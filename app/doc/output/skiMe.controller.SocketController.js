Ext.data.JsonP.skiMe_controller_SocketController({"tagname":"class","name":"skiMe.controller.SocketController","autodetected":{"aliases":true,"alternateClassNames":true,"extends":true,"mixins":true,"requires":true,"uses":true,"members":true,"code_type":true},"files":[{"filename":"SocketController.js","href":"SocketController.html#skiMe-controller-SocketController"}],"author":[{"tagname":"author","name":"Ren√© Grossmann","email":null}],"aliases":{},"alternateClassNames":[],"extends":"Ext.app.Controller","mixins":[],"requires":[],"uses":[],"members":[{"name":"socket","tagname":"property","owner":"skiMe.controller.SocketController","id":"property-socket","meta":{"private":true}},{"name":"newMeetingPointNotification","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-newMeetingPointNotification","meta":{}},{"name":"onConnectedFriends","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-onConnectedFriends","meta":{}},{"name":"onFriendCheckin","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-onFriendCheckin","meta":{}},{"name":"onFriendDisconnect","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-onFriendDisconnect","meta":{}},{"name":"onFriendPositionUpdate","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-onFriendPositionUpdate","meta":{}},{"name":"onNewMeetingPoint","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-onNewMeetingPoint","meta":{}},{"name":"onSocketReady","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-onSocketReady","meta":{}},{"name":"setConnection","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-setConnection","meta":{}},{"name":"setEventHandlers","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-setEventHandlers","meta":{}},{"name":"userCheckin","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-userCheckin","meta":{}},{"name":"userPositionUpdate","tagname":"method","owner":"skiMe.controller.SocketController","id":"method-userPositionUpdate","meta":{}}],"code_type":"ext_define","id":"class-skiMe.controller.SocketController","short_doc":"Controller to manage the connection and events with the websockets:\n-- User checkin\n-- Friend checkin notification\n--...","component":false,"superclasses":["Ext.app.Controller"],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>Ext.app.Controller<div class='subclass '><strong>skiMe.controller.SocketController</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/SocketController.html#skiMe-controller-SocketController' target='_blank'>SocketController.js</a></div></pre><div class='doc-contents'><p>Controller to manage the connection and events with the websockets:\n-- User checkin\n-- Friend checkin notification\n-- User &amp; Friend position update\n-- Create meeting point\n-- Meeting Point notification</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-socket' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-property-socket' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-property-socket' class='name expandable'>socket</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>\n</div><div class='long'>\n</div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-newMeetingPointNotification' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-newMeetingPointNotification' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-newMeetingPointNotification' class='name expandable'>newMeetingPointNotification</a>( <span class='pre'>meetingPoint, friend</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify the websockets server that a Meeting Point has been created and a friend added to it\nData sent: meetingPointId...</div><div class='long'><p>Notify the websockets server that a Meeting Point has been created and a friend added to it\nData sent: meetingPointId and friendId\nNote: Sent for each member of the Meeting Point</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>meetingPoint</span> : Ext.model.MeetingPoint<div class='sub-desc'><p>Meeting Point created</p>\n</div></li><li><span class='pre'>friend</span> : Ext.model.User<div class='sub-desc'><p>Friend member of the Meeting Point</p>\n</div></li></ul></div></div></div><div id='method-onConnectedFriends' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-onConnectedFriends' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-onConnectedFriends' class='name expandable'>onConnectedFriends</a>( <span class='pre'>friendsData</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Create a marker on the map for each of the friend connected\nNote: A connected friend is a user which is connected to ...</div><div class='long'><p>Create a marker on the map for each of the friend connected\nNote: A connected friend is a user which is connected to the websockets server and has checked in</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>friendsData</span> : Object<div class='sub-desc'><p>List of friends id</p>\n</div></li></ul><h3 class='pa'>Fires</h3><ul></ul></div></div></div><div id='method-onFriendCheckin' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-onFriendCheckin' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-onFriendCheckin' class='name expandable'>onFriendCheckin</a>( <span class='pre'>checkinData</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Load the friends checkin corresponding to id and add it to the map ...</div><div class='long'><p>Load the friends checkin corresponding to id and add it to the map</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>checkinData</span> : Object<div class='sub-desc'><p>Data of the checkin - friendId, position</p>\n</div></li></ul><h3 class='pa'>Fires</h3><ul></ul></div></div></div><div id='method-onFriendDisconnect' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-onFriendDisconnect' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-onFriendDisconnect' class='name expandable'>onFriendDisconnect</a>( <span class='pre'>friendData</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Modify the actual friend marker on the map to a 'disconnected' marker (color red)\nNote: Only called if the disconnect...</div><div class='long'><p>Modify the actual friend marker on the map to a 'disconnected' marker (color red)\nNote: Only called if the disconnected friend previously checked in</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>friendData</span> : Object<div class='sub-desc'><p>Friend disconnected - friendId</p>\n</div></li></ul><h3 class='pa'>Fires</h3><ul></ul></div></div></div><div id='method-onFriendPositionUpdate' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-onFriendPositionUpdate' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-onFriendPositionUpdate' class='name expandable'>onFriendPositionUpdate</a>( <span class='pre'>positionData</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Modify the position the friends marker on the map ...</div><div class='long'><p>Modify the position the friends marker on the map</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>positionData</span> : Object<div class='sub-desc'><p>Data of the friends position - friendId, position</p>\n</div></li></ul><h3 class='pa'>Fires</h3><ul></ul></div></div></div><div id='method-onNewMeetingPoint' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-onNewMeetingPoint' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-onNewMeetingPoint' class='name expandable'>onNewMeetingPoint</a>( <span class='pre'>meetingPointData</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Load the new Meeting Point corresponding to the id, add it to the store and add a marker on the map ...</div><div class='long'><p>Load the new Meeting Point corresponding to the id, add it to the store and add a marker on the map</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>meetingPointData</span> : Object<div class='sub-desc'><p>Data of the new Meeting Point - meetingPointId</p>\n</div></li></ul><h3 class='pa'>Fires</h3><ul></ul></div></div></div><div id='method-onSocketReady' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-onSocketReady' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-onSocketReady' class='name expandable'>onSocketReady</a>( <span class='pre'>socketData</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Send to the websockets server the user informations\nData sent: UserId and an array of friendId\nNote: Sent when the co...</div><div class='long'><p>Send to the websockets server the user informations\nData sent: UserId and an array of friendId\nNote: Sent when the connection between the server and the client is set up</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>socketData</span> : Object<div class='sub-desc'><p>Data of the socket connection - socketId</p>\n</div></li></ul></div></div></div><div id='method-setConnection' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-setConnection' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-setConnection' class='name expandable'>setConnection</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Set up the connection between the application and the websockets server and define the event handlers ...</div><div class='long'><p>Set up the connection between the application and the websockets server and define the event handlers</p>\n<h3 class='pa'>Fires</h3><ul></ul></div></div></div><div id='method-setEventHandlers' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-setEventHandlers' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-setEventHandlers' class='name expandable'>setEventHandlers</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Define the event handlers ...</div><div class='long'><p>Define the event handlers</p>\n<h3 class='pa'>Fires</h3><ul></ul></div></div></div><div id='method-userCheckin' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-userCheckin' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-userCheckin' class='name expandable'>userCheckin</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify the websockets server the user checkedin\nData sent: CheckinId and LatLng position ...</div><div class='long'><p>Notify the websockets server the user checkedin\nData sent: CheckinId and LatLng position</p>\n</div></div></div><div id='method-userPositionUpdate' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='skiMe.controller.SocketController'>skiMe.controller.SocketController</span><br/><a href='source/SocketController.html#skiMe-controller-SocketController-method-userPositionUpdate' target='_blank' class='view-source'>view source</a></div><a href='#!/api/skiMe.controller.SocketController-method-userPositionUpdate' class='name expandable'>userPositionUpdate</a>( <span class='pre'>position</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify the websockets server the user updated his positon\nData sent: LatLng position\nNote: Sent at every update posit...</div><div class='long'><p>Notify the websockets server the user updated his positon\nData sent: LatLng position\nNote: Sent at every update position event from Leaflet</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>position</span> : LatLng<div class='sub-desc'><p>New position of the user</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});